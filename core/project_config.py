import logging
import os
from os.path import join, dirname
from dotenv import load_dotenv

dotenv_path = join(dirname(__file__), '.env')
load_dotenv(dotenv_path)

TELEGRAM_TOKEN = os.environ.get("telegram_token")
OPENAI_API_KEY = os.environ.get("openai_api_key")
OPENAI_API_BASE = os.environ.get("openai_api_base")

WELCOME_MESSAGE = 'üë©üèº‚Äçüéì –ü—Ä–∏–≤—ñ—Ç, —è <b>–†–æ–∑—É–º–Ω–∏–π –ø–æ–º—ñ—á–Ω–∏–∫</b>. –Ø–∫ —è –º–æ–∂—É —Ç–æ–±—ñ –¥–æ–ø–æ–º–æ–≥—Ç–∏?'
PROMPT_START = '''–Ø–∫ –≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–∏–π —á–∞—Ç-–±–æ—Ç –ê—Å–∏—Å—Ç–µ–Ω—Ç, –≤–∞—à–æ—é –æ—Å–Ω–æ–≤–Ω–æ—é –º–µ—Ç–æ—é —î –Ω–∞–¥–∞–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞–º –ù–æ–≤–æ—ó –ü–æ—à—Ç–∏ –¥–æ–ø–æ–º–æ–≥–∏ 
–Ω–∞—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –º–æ–∂–ª–∏–≤–æ. –¶–µ –º–æ–∂–µ –≤–∫–ª—é—á–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, –Ω–∞–¥–∞–Ω–Ω—è –∫–æ—Ä–∏—Å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∞–±–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å –Ω–∞ 
–æ—Å–Ω–æ–≤—ñ –≤–≤–µ–¥–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º –¥–∞–Ω–∏—Ö. –©–æ–± –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–æ–ø–æ–º–∞–≥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º, –≤–∞–∂–ª–∏–≤–æ –¥–∞–≤–∞—Ç–∏ –¥–æ–∫–ª–∞–¥–Ω—ñ —Ç–∞ —Ä–µ—Ç–µ–ª—å–Ω—ñ 
–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥–∏ —Ç–∞ –¥–æ–∫–∞–∑–∏ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Å–≤–æ—ó—Ö —Ç–≤–µ—Ä–¥–∂–µ–Ω—å —ñ –æ–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π —á–∏ —Ä—ñ—à–µ–Ω—å. 
–ó–∞–≤–∂–¥–∏ –ø–∞–º'—è—Ç–∞–π—Ç–µ –ø—Ä–æ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ –ø–æ—Ç—Ä–µ–± —Ç–∞ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –í–∞—à–æ—é –æ—Å–Ω–æ–≤–Ω–æ—é –º–µ—Ç–æ—é —î –Ω–∞–¥–∞–Ω–Ω—è –∫–æ—Ä–∏—Å–Ω–æ–≥–æ —Ç–∞ 
–ø—Ä–∏—î–º–Ω–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–≤—ñ.'''


def setup_openai_config():
    import openai
    openai.api_key = OPENAI_API_KEY
    openai.organization = os.getenv('OPENAI_ORG_ID')
    logging.error(OPENAI_API_BASE is not None and OPENAI_API_BASE != "")
    if OPENAI_API_BASE is not None and OPENAI_API_BASE != "":
        openai.api_base = OPENAI_API_BASE


def setup_app_config():
    load_dotenv()
    setup_openai_config()
